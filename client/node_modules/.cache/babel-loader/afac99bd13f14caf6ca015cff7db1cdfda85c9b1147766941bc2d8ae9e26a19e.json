{"ast":null,"code":"import _regeneratorRuntime from\"D:/Andrew/Documents/GitHub/SpotifyApp/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/Andrew/Documents/GitHub/SpotifyApp/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"D:/Andrew/Documents/GitHub/SpotifyApp/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _styled from\"styled-components\";import{useState,useEffect}from'react';import{BrowserRouter as Router,Routes,Route}from\"react-router-dom\";import{accessToken,logout,getCurrentUserProfile}from'./Spotify';import{catchErrors}from'./utils';import SmoothScroll from'./SmoothScroll';import{GlobalStyle}from'./styles';import{Login,Profile,TopArtists,TopTracks,Playlists,Playlist}from'./pages';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var StyledLogoutButton=_styled.button.withConfig({displayName:\"App__StyledLogoutButton\",componentId:\"sc-1tc4o2e-0\"})([\"position:absolute;top:var(--spacing-sm);right:var(--spacing-md);padding:var(--spacing-xs) var(--spacing-sm);background-color:rgba(0,0,0,.7);color:var(--white);font-size:var(--fz-sm);font-weight:700;border-radius:var(--border-radius-pill);z-index:10;@media (min-width:768px){right:var(--spacing-lg);}\"]);function App(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),token=_useState2[0],setToken=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),profile=_useState4[0],setProfile=_useState4[1];useEffect(function(){setToken(accessToken);var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var _yield$getCurrentUser,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return getCurrentUserProfile();case 2:_yield$getCurrentUser=_context.sent;data=_yield$getCurrentUser.data;setProfile(data);case 5:case\"end\":return _context.stop();}},_callee);}));return function fetchData(){return _ref.apply(this,arguments);};}();catchErrors(fetchData());},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(GlobalStyle,{}),/*#__PURE__*/_jsx(\"header\",{className:\"App-header\",children:!token?/*#__PURE__*/_jsx(Login,{}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(StyledLogoutButton,{onClick:logout,children:\"Log Out\"}),/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsx(SmoothScroll,{children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/top-artists\",element:/*#__PURE__*/_jsx(TopArtists,{})}),/*#__PURE__*/_jsx(Route,{path:\"/top-tracks\",element:/*#__PURE__*/_jsx(TopTracks,{})}),/*#__PURE__*/_jsx(Route,{path:\"/playlists/:id\",element:/*#__PURE__*/_jsx(Playlist,{})}),/*#__PURE__*/_jsx(Route,{path:\"/playlists\",element:/*#__PURE__*/_jsx(Playlists,{})}),/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Profile,{})})]})})})]})})]});}export default App;","map":{"version":3,"names":["useState","useEffect","BrowserRouter","Router","Routes","Route","accessToken","logout","getCurrentUserProfile","catchErrors","SmoothScroll","GlobalStyle","Login","Profile","TopArtists","TopTracks","Playlists","Playlist","StyledLogoutButton","styled","button","App","token","setToken","profile","setProfile","fetchData","data"],"sources":["D:/Andrew/Documents/GitHub/SpotifyApp/client/src/App.js"],"sourcesContent":["import { useState, useEffect } from 'react';\r\nimport {\r\n  BrowserRouter as Router,\r\n  Routes,\r\n  Route,\r\n} from \"react-router-dom\";\r\nimport { accessToken, logout, getCurrentUserProfile } from './Spotify';\r\nimport { catchErrors } from './utils';\r\nimport SmoothScroll from './SmoothScroll';\r\nimport { GlobalStyle } from './styles';\r\nimport { Login, Profile, TopArtists, TopTracks, Playlists, Playlist } from './pages';\r\nimport styled from 'styled-components/macro';\r\n\r\nconst StyledLogoutButton = styled.button`\r\n  position: absolute;\r\n  top: var(--spacing-sm);\r\n  right: var(--spacing-md);\r\n  padding: var(--spacing-xs) var(--spacing-sm);\r\n  background-color: rgba(0,0,0,.7);\r\n  color: var(--white);\r\n  font-size: var(--fz-sm);\r\n  font-weight: 700;\r\n  border-radius: var(--border-radius-pill);\r\n  z-index: 10;\r\n  @media (min-width: 768px) {\r\n    right: var(--spacing-lg);\r\n  }\r\n`;\r\n\r\nfunction App() {\r\n  const [token, setToken] = useState(null);\r\n  const [profile, setProfile] = useState(null);\r\n\r\n  useEffect(() => {\r\n    setToken(accessToken);\r\n\r\n    const fetchData = async () => {\r\n        const { data } = await getCurrentUserProfile();\r\n        setProfile(data);\r\n    }\r\n\r\n    catchErrors(fetchData());\r\n\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <GlobalStyle />\r\n\r\n      <header className=\"App-header\">\r\n      {!token ? (\r\n        <Login />\r\n        ) : (\r\n\r\n          <>\r\n          <StyledLogoutButton onClick={logout}>Log Out</StyledLogoutButton>\r\n            <Router>\r\n              <SmoothScroll>\r\n                <Routes>\r\n                  <Route path=\"/top-artists\" element={<TopArtists />}>\r\n                    \r\n                  </Route>\r\n                  <Route path=\"/top-tracks\" element={<TopTracks />}>\r\n                    \r\n                  </Route>\r\n                  <Route path=\"/playlists/:id\" element={<Playlist />}>\r\n                    \r\n                  </Route>\r\n                  <Route path=\"/playlists\" element={<Playlists />}>\r\n                    \r\n                  </Route>\r\n                  <Route path=\"/\" element={<Profile />}>\r\n                  </Route>\r\n                </Routes>\r\n              </SmoothScroll>\r\n            </Router>\r\n          </>\r\n        )}\r\n      </header>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;"],"mappings":"6bAAA,OAASA,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAC3C,OACEC,aAAa,GAAIC,OAAM,CACvBC,MAAM,CACNC,KAAK,KACA,kBAAkB,CACzB,OAASC,WAAW,CAAEC,MAAM,CAAEC,qBAAqB,KAAQ,WAAW,CACtE,OAASC,WAAW,KAAQ,SAAS,CACrC,MAAOC,aAAY,KAAM,gBAAgB,CACzC,OAASC,WAAW,KAAQ,UAAU,CACtC,OAASC,KAAK,CAAEC,OAAO,CAAEC,UAAU,CAAEC,SAAS,CAAEC,SAAS,CAAEC,QAAQ,KAAQ,SAAS,CAAC,6IAGrF,GAAMC,mBAAkB,CAAGC,OAAM,CAACC,MAAM,gYAcvC,CAED,QAASC,IAAG,EAAG,CACb,cAA0BrB,QAAQ,CAAC,IAAI,CAAC,wCAAjCsB,KAAK,eAAEC,QAAQ,eACtB,eAA8BvB,QAAQ,CAAC,IAAI,CAAC,yCAArCwB,OAAO,eAAEC,UAAU,eAE1BxB,SAAS,CAAC,UAAM,CACdsB,QAAQ,CAACjB,WAAW,CAAC,CAErB,GAAMoB,UAAS,4FAAG,yLACSlB,sBAAqB,EAAE,4CAAtCmB,IAAI,uBAAJA,IAAI,CACZF,UAAU,CAACE,IAAI,CAAC,CAAC,qDACpB,kBAHKD,UAAS,0CAGd,CAEDjB,WAAW,CAACiB,SAAS,EAAE,CAAC,CAE1B,CAAC,CAAE,EAAE,CAAC,CAEN,mBACE,aAAK,SAAS,CAAC,KAAK,wBAClB,KAAC,WAAW,IAAG,cAEf,eAAQ,SAAS,CAAC,YAAY,UAC7B,CAACJ,KAAK,cACL,KAAC,KAAK,IAAG,cAGP,wCACA,KAAC,kBAAkB,EAAC,OAAO,CAAEf,MAAO,UAAC,SAAO,EAAqB,cAC/D,KAAC,MAAM,wBACL,KAAC,YAAY,wBACX,MAAC,MAAM,yBACL,KAAC,KAAK,EAAC,IAAI,CAAC,cAAc,CAAC,OAAO,cAAE,KAAC,UAAU,IAAI,EAE3C,cACR,KAAC,KAAK,EAAC,IAAI,CAAC,aAAa,CAAC,OAAO,cAAE,KAAC,SAAS,IAAI,EAEzC,cACR,KAAC,KAAK,EAAC,IAAI,CAAC,gBAAgB,CAAC,OAAO,cAAE,KAAC,QAAQ,IAAI,EAE3C,cACR,KAAC,KAAK,EAAC,IAAI,CAAC,YAAY,CAAC,OAAO,cAAE,KAAC,SAAS,IAAI,EAExC,cACR,KAAC,KAAK,EAAC,IAAI,CAAC,GAAG,CAAC,OAAO,cAAE,KAAC,OAAO,IAAI,EAC7B,GACD,EACI,EACR,GAEZ,EACM,GACL,CAEV,CAEA,cAAec,IAAG"},"metadata":{},"sourceType":"module","externalDependencies":[]}